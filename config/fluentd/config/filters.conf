# Fluentd Filter Configurations
# Filters process and transform log data as it flows through Fluentd.
# They can parse, enrich, filter, or modify records before sending to outputs.



# Parse JSON data from Beats inputs
# Note: Packetbeat sends structured data directly, not in a 'message' field
# Uncomment the filter below if using Filebeat or other beats that send JSON in 'message'
# <filter beats>
#   @type parser
#   key_name message
#   <parse>
#     @type json
#   </parse>
# </filter>

# Example Filters (commented out - uncomment and modify as needed)

# Add timestamp field if missing from records
# Useful for logs that don't include timestamps
# <filter **>
#   @type record_transformer
#   <record>
#     timestamp ${time.strftime('%Y-%m-%d %H:%M:%S')}
#   </record>
# </filter>

# Parse JSON data from a 'log' field
# Alternative to the Beats parser above
# <filter **>
#   @type parser
#   key_name log
#   <parse>
#     @type json
#   </parse>
# </filter>

# Add hostname to all records
# Useful for identifying the source host of logs
# <filter **>
#   @type record_transformer
#   <record>
#     hostname "#{Socket.gethostname}"
#   </record>
# </filter>

# Filter out unwanted log entries
# Drops records matching the specified pattern
# <filter **>
#   @type grep
#   <exclude>
#     key message
#     pattern /unwanted_pattern/
#   </exclude>
# </filter>